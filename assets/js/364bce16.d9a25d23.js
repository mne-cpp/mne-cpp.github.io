"use strict";(globalThis.webpackChunkmne_cpp_website=globalThis.webpackChunkmne_cpp_website||[]).push([[4795],{79189(e,i,n){n.r(i),n.d(i,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"manual/tools-dipole-fit","title":"mne_dipole_fit","description":"Overview","source":"@site/docs/manual/tools-dipole-fit.mdx","sourceDirName":"manual","slug":"/manual/tools-dipole-fit","permalink":"/docs/manual/tools-dipole-fit","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"title":"mne_dipole_fit","sidebar_label":"mne_dipole_fit","sidebar_position":8},"sidebar":"docsSidebar","previous":{"title":"mne_compute_raw_inverse","permalink":"/docs/manual/tools-compute-raw-inverse"},"next":{"title":"mne_process_raw","permalink":"/docs/manual/tools-process-raw"}}');var t=n(74848),d=n(28453);const l={title:"mne_dipole_fit",sidebar_label:"mne_dipole_fit",sidebar_position:8},r="mne_dipole_fit",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Usage",id:"usage",level:2},{value:"Options",id:"options",level:2},{value:"Description",id:"description",level:2},{value:"Key Concepts",id:"key-concepts",level:3},{value:"Output",id:"output",level:3},{value:"Goodness of Fit",id:"goodness-of-fit",level:3},{value:"Example",id:"example",level:2},{value:"See Also",id:"see-also",level:2}];function a(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"mne_dipole_fit",children:"mne_dipole_fit"})}),"\n",(0,t.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"mne_dipole_fit"})," performs electric current dipole fitting on MEG/EEG data. It computes dipole fits, saves results in ",(0,t.jsx)(i.code,{children:".dip"})," and ",(0,t.jsx)(i.code,{children:".bdip"})," formats, and can display results in a 3D brain viewer with BEM surfaces."]}),"\n",(0,t.jsx)(i.p,{children:"This is a C++ port of the original MNE-C dipole fitting tool by Matti H\xe4m\xe4l\xe4inen."}),"\n",(0,t.jsx)(i.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"mne_dipole_fit [options]\n"})}),"\n",(0,t.jsx)(i.h2,{id:"options",children:"Options"}),"\n",(0,t.jsxs)(i.p,{children:["The command-line options are defined by the ",(0,t.jsx)(i.code,{children:"DipoleFitSettings"})," class. Key options include:"]}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Option"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--meas <file>"})}),(0,t.jsx)(i.td,{children:"Input measurement data file"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--set <number>"})}),(0,t.jsx)(i.td,{children:"Data set number"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--tmin <time>"})}),(0,t.jsx)(i.td,{children:"Start time for fitting (ms)"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--tmax <time>"})}),(0,t.jsx)(i.td,{children:"End time for fitting (ms)"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--tstep <time>"})}),(0,t.jsx)(i.td,{children:"Time step for fitting (ms)"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--bem <file>"})}),(0,t.jsx)(i.td,{children:"BEM model file"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--origin <x:y:z>"})}),(0,t.jsx)(i.td,{children:"Sphere model origin (mm)"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--cov <file>"})}),(0,t.jsx)(i.td,{children:"Noise covariance matrix file"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--mri <file>"})}),(0,t.jsx)(i.td,{children:"MRI-head coordinate transform file"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--dip <file>"})}),(0,t.jsx)(i.td,{children:"Output dipole file"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--bdip <file>"})}),(0,t.jsx)(i.td,{children:"Output binary dipole file"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--meg"})}),(0,t.jsx)(i.td,{children:"Use MEG data"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--eeg"})}),(0,t.jsx)(i.td,{children:"Use EEG data"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--fixed"})}),(0,t.jsx)(i.td,{children:"Fixed dipole position"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--accurate"})}),(0,t.jsx)(i.td,{children:"Use accurate coil descriptions"})]})]})]}),"\n",(0,t.jsx)(i.h2,{id:"description",children:"Description"}),"\n",(0,t.jsx)(i.p,{children:"Dipole fitting is a parametric source localization approach that models the neural activity as one or more equivalent current dipoles. At each time point, the algorithm finds the dipole location, orientation, and amplitude that best explain the measured MEG/EEG data."}),"\n",(0,t.jsx)(i.h3,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Single dipole fit"}),": At each time point, a single equivalent current dipole is fitted to explain the data. This is appropriate when the brain activity of interest can be reasonably modeled as a focal source."]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"BEM vs. sphere model"}),": The forward model used for fitting can be either a full BEM model or a simpler sphere model. The BEM model is generally more accurate."]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Noise covariance"}),": A noise-covariance matrix is used to whiten the data and weight the channels appropriately in the fitting procedure. This can be computed with ",(0,t.jsx)(i.strong,{children:(0,t.jsx)(i.a,{href:"tools-process-raw",children:"mne_process_raw"})})," using the ",(0,t.jsx)(i.code,{children:"--cov"})," option."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"output",children:"Output"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsxs)(i.strong,{children:[(0,t.jsx)(i.code,{children:".dip"})," file"]})," \u2014 Human-readable text file with dipole parameters (time, position, orientation, amplitude, goodness-of-fit)"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsxs)(i.strong,{children:[(0,t.jsx)(i.code,{children:".bdip"})," file"]})," \u2014 Binary format for efficient storage and loading"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"goodness-of-fit",children:"Goodness of Fit"}),"\n",(0,t.jsx)(i.p,{children:"The goodness-of-fit (GOF) value indicates how well the fitted dipole explains the measured data. Values close to 100% indicate an excellent fit, while low values suggest that a single dipole model may not be appropriate."}),"\n",(0,t.jsx)(i.h2,{id:"example",children:"Example"}),"\n",(0,t.jsx)(i.p,{children:"Fit dipoles to evoked data using a BEM model:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"mne_dipole_fit \\\n    --meas sample_audvis-ave.fif \\\n    --set 1 \\\n    --tmin 50 --tmax 150 --tstep 1 \\\n    --bem sample-5120-5120-5120-bem-sol.fif \\\n    --mri sample-trans.fif \\\n    --cov sample_audvis-cov.fif \\\n    --meg \\\n    --dip sample_audvis.dip\n"})}),"\n",(0,t.jsx)(i.h2,{id:"see-also",children:"See Also"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"tools-process-raw",children:"mne_process_raw"})," \u2014 Compute averaged data and noise-covariance matrices needed as inputs"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"tools-forward-solution",children:"mne_forward_solution"})," \u2014 Compute the forward solution (BEM)"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"inverse",children:"The Minimum-Norm Estimates"})," \u2014 Mathematical background for inverse methods"]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,d.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},28453(e,i,n){n.d(i,{R:()=>l,x:()=>r});var s=n(96540);const t={},d=s.createContext(t);function l(e){const i=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(d.Provider,{value:i},e.children)}}}]);