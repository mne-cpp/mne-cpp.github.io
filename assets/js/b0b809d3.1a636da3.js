"use strict";(globalThis.webpackChunkmne_cpp_website=globalThis.webpackChunkmne_cpp_website||[]).push([[3169],{63694(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"development/ci-releasecycle","title":"Release Guide","description":"This page describes the complete process for creating a new MNE-CPP release, from preparation through publication.","source":"@site/docs/development/ci-releasecycle.mdx","sourceDirName":"development","slug":"/development/ci-releasecycle","permalink":"/docs/development/ci-releasecycle","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Release Guide","sidebar_label":"Release Guide"},"sidebar":"developmentSidebar","previous":{"title":"Deployment","permalink":"/docs/development/ci-deployment"},"next":{"title":"Contribute","permalink":"/docs/development/contribute"}}');var r=s(74848),l=s(28453);const t={title:"Release Guide",sidebar_label:"Release Guide"},a="Release Guide",c={},o=[{value:"Versioning Scheme",id:"versioning-scheme",level:2},{value:"Branch Strategy",id:"branch-strategy",level:2},{value:"Release Steps",id:"release-steps",level:2},{value:"1. Increment Version Numbers (Manual)",id:"1-increment-version-numbers-manual",level:3},{value:"2. Update Application Version Info (Manual)",id:"2-update-application-version-info-manual",level:3},{value:"3. Update the Release Table on the Website (Manual)",id:"3-update-the-release-table-on-the-website-manual",level:3},{value:"4. Prepare the Changelog (Manual)",id:"4-prepare-the-changelog-manual",level:3},{value:"5. Create the GitHub Release (Manual)",id:"5-create-the-github-release-manual",level:3},{value:"6. CI Creates a Release Branch (Automated)",id:"6-ci-creates-a-release-branch-automated",level:3},{value:"7. CI Builds and Uploads Binaries (Automated)",id:"7-ci-builds-and-uploads-binaries-automated",level:3},{value:"8. Protect the New Branch (Manual)",id:"8-protect-the-new-branch-manual",level:3},{value:"Post-Release",id:"post-release",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"release-guide",children:"Release Guide"})}),"\n",(0,r.jsx)(n.p,{children:"This page describes the complete process for creating a new MNE-CPP release, from preparation through publication."}),"\n",(0,r.jsx)(n.h2,{id:"versioning-scheme",children:"Versioning Scheme"}),"\n",(0,r.jsxs)(n.p,{children:["MNE-CPP follows ",(0,r.jsx)(n.a,{href:"https://semver.org/",children:"Semantic Versioning"})," with the tag syntax ",(0,r.jsx)(n.code,{children:"v<major>.<minor>.<patch>"}),":"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Component"}),(0,r.jsx)(n.th,{children:"When to increment"}),(0,r.jsx)(n.th,{children:"Example"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Major"})}),(0,r.jsx)(n.td,{children:"Breaking API changes or major architectural redesign"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"v1.0.0"})," \u2192 ",(0,r.jsx)(n.code,{children:"v2.0.0"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Minor"})}),(0,r.jsx)(n.td,{children:"New features, new plugins, significant enhancements"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"v0.1.0"})," \u2192 ",(0,r.jsx)(n.code,{children:"v0.2.0"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Patch"})}),(0,r.jsx)(n.td,{children:"Bug fixes, documentation corrections, small improvements"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"v0.1.0"})," \u2192 ",(0,r.jsx)(n.code,{children:"v0.1.1"})]})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"branch-strategy",children:"Branch Strategy"}),"\n",(0,r.jsxs)(n.p,{children:["New development takes place on the ",(0,r.jsx)(n.code,{children:"main"})," branch. When a new ",(0,r.jsx)(n.strong,{children:"minor"})," release is created (e.g., going from ",(0,r.jsx)(n.code,{children:"v0.1.x"})," to ",(0,r.jsx)(n.code,{children:"v0.2.0"}),"), a release branch named ",(0,r.jsx)(n.code,{children:"v0.x.y"})," is automatically created from ",(0,r.jsx)(n.code,{children:"main"}),". This branch receives only critical bug-fix back-ports and serves as the stable base for patch releases."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"main \u2500\u2500\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u25ba  (ongoing development)\n            \\                    \\\n             v0.1.0               v0.2.0      (release branches)\n              \\                    \\\n               v0.1.1               \xb7\xb7\xb7       (patch releases)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"release-steps",children:"Release Steps"}),"\n",(0,r.jsxs)(n.p,{children:["Once the developers have rough consensus that ",(0,r.jsx)(n.code,{children:"main"})," is ready for a new release, the following steps are performed:"]}),"\n",(0,r.jsx)(n.h3,{id:"1-increment-version-numbers-manual",children:"1. Increment Version Numbers (Manual)"}),"\n",(0,r.jsx)(n.p,{children:"Update the version string in these files:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"https://github.com/mne-tools/mne-cpp/blob/main/CMakeLists.txt",children:"CMakeLists.txt"})})," \u2014 the top-level project version (",(0,r.jsx)(n.code,{children:"project(mne_cpp VERSION 0.x.y)"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"https://github.com/mne-tools/mne-cpp/blob/main/doc/doxygen/mne-cpp_doxyfile",children:"mne-cpp_doxyfile"})})," \u2014 the Doxygen ",(0,r.jsx)(n.code,{children:"PROJECT_NUMBER"})," field"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"2-update-application-version-info-manual",children:"2. Update Application Version Info (Manual)"}),"\n",(0,r.jsxs)(n.p,{children:["Bump the version constants in each application's ",(0,r.jsx)(n.code,{children:"info.h"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/mne-tools/mne-cpp/blob/main/applications/mne_scan/mne_scan/info.h",children:"MNE Scan info.h"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/mne-tools/mne-cpp/blob/main/applications/mne_analyze/mne_analyze/info.h",children:"MNE Analyze info.h"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"3-update-the-release-table-on-the-website-manual",children:"3. Update the Release Table on the Website (Manual)"}),"\n",(0,r.jsx)(n.p,{children:"Add the new version to the documentation website's download / release page so users can find it."}),"\n",(0,r.jsx)(n.h3,{id:"4-prepare-the-changelog-manual",children:"4. Prepare the Changelog (Manual)"}),"\n",(0,r.jsxs)(n.p,{children:["The changelog for the release being prepared is maintained on the ",(0,r.jsx)(n.a,{href:"https://github.com/mne-tools/mne-cpp/wiki/Changelog-WIP",children:"GitHub Wiki (Changelog-WIP)"}),". To generate contributor statistics since the last release:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'git shortlog -s -n main --no-merges --since="<dateOfLastRelease>"\n'})}),"\n",(0,r.jsx)(n.p,{children:"Move the work-in-progress changelog entries into the release notes."}),"\n",(0,r.jsx)(n.h3,{id:"5-create-the-github-release-manual",children:"5. Create the GitHub Release (Manual)"}),"\n",(0,r.jsxs)(n.p,{children:["Go to the ",(0,r.jsx)(n.a,{href:"https://github.com/mne-tools/mne-cpp/releases",children:"GitHub Releases page"})," and create a new release:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tag"}),": ",(0,r.jsx)(n.code,{children:"v0.x.y"})," (create the tag on ",(0,r.jsx)(n.code,{children:"main"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Title"}),": ",(0,r.jsx)(n.code,{children:"v0.x.y"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Paste the changelog prepared in step 4"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"6-ci-creates-a-release-branch-automated",children:"6. CI Creates a Release Branch (Automated)"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.a,{href:"https://github.com/mne-tools/mne-cpp/blob/main/.github/workflows/release.yml",children:"release.yml"})," workflow detects the new tag and:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Creates a branch named ",(0,r.jsx)(n.code,{children:"v0.x.y"})," from ",(0,r.jsx)(n.code,{children:"main"})," (only for ",(0,r.jsx)(n.strong,{children:"minor"})," or ",(0,r.jsx)(n.strong,{children:"major"})," version bumps, e.g., ",(0,r.jsx)(n.code,{children:"v0.1.0"})," \u2192 ",(0,r.jsx)(n.code,{children:"v0.2.0"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Skips branch creation for patch releases, since the branch already exists"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"7-ci-builds-and-uploads-binaries-automated",children:"7. CI Builds and Uploads Binaries (Automated)"}),"\n",(0,r.jsxs)(n.p,{children:["The same ",(0,r.jsx)(n.code,{children:"release.yml"})," workflow:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Builds ",(0,r.jsx)(n.strong,{children:"dynamically linked"})," binaries for Windows, Linux, and macOS"]}),"\n",(0,r.jsxs)(n.li,{children:["Builds ",(0,r.jsx)(n.strong,{children:"statically linked"})," binaries for all platforms"]}),"\n",(0,r.jsxs)(n.li,{children:["Runs the deployment scripts (",(0,r.jsx)(n.code,{children:"tools/deploy.bat"})," / ",(0,r.jsx)(n.code,{children:"tools/deploy.sh"}),") to bundle Qt dependencies"]}),"\n",(0,r.jsxs)(n.li,{children:["Packages the output into ",(0,r.jsx)(n.code,{children:".zip"})," (Windows) or ",(0,r.jsx)(n.code,{children:".tar.gz"})," (Linux/macOS) archives"]}),"\n",(0,r.jsx)(n.li,{children:"Uploads the archives as release assets to the GitHub release created in step 5"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"8-protect-the-new-branch-manual",children:"8. Protect the New Branch (Manual)"}),"\n",(0,r.jsxs)(n.p,{children:["For minor or major version bumps, add branch protection rules for the newly created ",(0,r.jsx)(n.code,{children:"v0.x.y"})," branch via the GitHub web interface (",(0,r.jsx)(n.strong,{children:"Settings \u2192 Branches \u2192 Add rule"}),"):"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Require pull request reviews before merging"}),"\n",(0,r.jsx)(n.li,{children:"Require status checks to pass"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"post-release",children:"Post-Release"}),"\n",(0,r.jsx)(n.p,{children:"After the release is published:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Verify that the release assets (binaries) are downloadable and functional"}),"\n",(0,r.jsx)(n.li,{children:"Announce the release on relevant channels (mailing lists, website news, etc.)"}),"\n",(0,r.jsxs)(n.li,{children:["Clear the work-in-progress changelog on the ",(0,r.jsx)(n.a,{href:"https://github.com/mne-tools/mne-cpp/wiki/Changelog-WIP",children:"GitHub Wiki"})," for the next development cycle"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453(e,n,s){s.d(n,{R:()=>t,x:()=>a});var i=s(96540);const r={},l=i.createContext(r);function t(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);