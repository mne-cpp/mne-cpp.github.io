"use strict";(globalThis.webpackChunkmne_cpp_website=globalThis.webpackChunkmne_cpp_website||[]).push([[1243],{10521(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"development/contr-style","title":"Coding Conventions","description":"Naming","source":"@site/docs/development/contr-style.mdx","sourceDirName":"development","slug":"/development/contr-style","permalink":"/docs/development/contr-style","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Coding Conventions","sidebar_label":"Coding Conventions"},"sidebar":"developmentSidebar","previous":{"title":"Contribution Guide","permalink":"/docs/development/contr-guide"},"next":{"title":"Git Workflow","permalink":"/docs/development/contr-git"}}');var o=t(74848),s=t(28453);const r={title:"Coding Conventions",sidebar_label:"Coding Conventions"},l="Coding Conventions",d={},c=[{value:"Naming",id:"naming",level:2},{value:"Readability and Documentation",id:"readability-and-documentation",level:2},{value:"MNE-CPP Class Templates",id:"mne-cpp-class-templates",level:2},{value:"Using with QtCreator",id:"using-with-qtcreator",level:3},{value:"Command Line Outputs",id:"command-line-outputs",level:2},{value:"Commit Policy",id:"commit-policy",level:2},{value:"MNE-CPP Documentation in QtCreator",id:"mne-cpp-documentation-in-qtcreator",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"coding-conventions",children:"Coding Conventions"})}),"\n",(0,o.jsx)(n.h2,{id:"naming",children:"Naming"}),"\n",(0,o.jsx)(n.p,{children:"Please make use of the following coding conventions when contributing to MNE-CPP:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Object"}),(0,o.jsx)(n.th,{children:"Rule"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Namespace"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"MYNAMESPACE"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Classes"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"MyClass"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Member functions"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"myFunction"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Member variables"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"m_typeMeaningfulName"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Local variables"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"typeMeaningfulName"})})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"readability-and-documentation",children:"Readability and Documentation"}),"\n",(0,o.jsx)(n.p,{children:"Use meaningful variable names and type indicators. Avoid complex as well as condensed expressions. For example:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cpp",children:'int iNumChs = 306;\nQString sChName = "MEG0000";\nvoid loadTxtFile(const QString& sPath);\n'})}),"\n",(0,o.jsxs)(n.p,{children:["In general, try to make your code match the surrounding style \u2014 indentation, line breaks, etc. Use Doxygen-style comments to document your code (see ",(0,o.jsx)(n.a,{href:"https://github.com/mne-tools/mne-cpp/blob/main/libraries/connectivity/network/network.h",children:"example"}),"). When introducing new functions, include the ",(0,o.jsx)(n.code,{children:"@since"})," tag with the current version. Always align function parameters in ",(0,o.jsx)(n.code,{children:".h"})," and ",(0,o.jsx)(n.code,{children:".cpp"})," files:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cpp",children:'//=========================================================================================================\n/**\n * Constructs a FileLoader object.\n *\n * @param[in]  iOpenMode            The open mode. 0=ReadWrite, 1=WriteOnly, 1=ReadOnly\n * @param[in]  bSkipEmptyLines      Whether to skip empty lines.\n * @param[in]  sCommentIdentifier   String to identify comments. Default is empty which\n *                                  results in comments being read as normal lines.\n * @since 0.1.1\n */\nFileLoader(int iOpenMode,\n           bool bSkipEmptyLines,\n           const QString& sCommentIdentifier = "");\n'})}),"\n",(0,o.jsx)(n.h2,{id:"mne-cpp-class-templates",children:"MNE-CPP Class Templates"}),"\n",(0,o.jsxs)(n.p,{children:["MNE-CPP provides class templates under ",(0,o.jsx)(n.code,{children:"resources/wizards/mnecpp/"})," that follow the project's coding conventions. These templates can help you quickly scaffold new classes that are consistent with the existing codebase."]}),"\n",(0,o.jsx)(n.h3,{id:"using-with-qtcreator",children:"Using with QtCreator"}),"\n",(0,o.jsx)(n.p,{children:"If you use QtCreator as your IDE, you can install these templates as wizards:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Copy the ",(0,o.jsx)(n.code,{children:"resources/wizards/mnecpp"})," folder to your QtCreator wizard directory. The location varies by OS \u2014 see the ",(0,o.jsx)(n.a,{href:"https://doc.qt.io/qtcreator/creator-project-wizards.html",children:"Qt documentation"})," for details."]}),"\n",(0,o.jsx)(n.li,{children:"Restart QtCreator."}),"\n",(0,o.jsx)(n.li,{children:"The MNE-CPP category will appear in the new file/class wizard."}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"command-line-outputs",children:"Command Line Outputs"}),"\n",(0,o.jsxs)(n.p,{children:["Every output should start with ",(0,o.jsx)(n.code,{children:"[<ClassName::FunctionName>]"}),". Please make use of ",(0,o.jsx)(n.code,{children:"qDebug()"})," during development and ",(0,o.jsx)(n.code,{children:"qInfo()"})," for general user information. ",(0,o.jsx)(n.code,{children:"qWarning()"})," should be used to alert about unusual situations that do not lead to a termination of the application. ",(0,o.jsx)(n.code,{children:"qCritical()"})," should only be used if an error was caught that will lead to the application being terminated. For example:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cpp",children:'void FileLoader::loadTxtFile(const QString& sPath)\n{\n    qInfo() << "[FileLoader::loadTxtFile] Working on file" << sPath;\n\n    if(!sPath.contains(".txt")) {\n        qWarning() << "[FileLoader::loadTxtFile] The file does not end with .txt."\n    }\n\n    QFile file(sPath);\n    if (!file.open(QIODevice::ReadOnly)) {\n        qCritical() << "[FileLoader::loadTxtFile] Unable to open file."\n        return;\n    }\n    // ...\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["| ",(0,o.jsx)(n.strong,{children:"Please note:"})," Eigen objects (",(0,o.jsx)(n.code,{children:"MatrixXd"}),", ",(0,o.jsx)(n.code,{children:"VectorXd"}),", etc.) can only be plotted via ",(0,o.jsx)(n.code,{children:"std::cout"}),".|"]}),"\n",(0,o.jsx)(n.h2,{id:"commit-policy",children:"Commit Policy"}),"\n",(0,o.jsx)(n.p,{children:"A good commit should follow:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"If you add new functions/classes, ensure everything is documented properly."}),"\n",(0,o.jsx)(n.li,{children:"All code should follow the Coding Conventions & Style."}),"\n",(0,o.jsx)(n.li,{children:"Write new unit tests for the bugs you fixed or functionality you added."}),"\n",(0,o.jsx)(n.li,{children:'Commit often! In particular: Make atomic commits. This means that each commit should contain exactly one self-contained change - do not mix unrelated changes, and do not create inconsistent states. Never "hide" unrelated fixes in bigger commits.'}),"\n",(0,o.jsx)(n.li,{children:"Write descriptive commit messages. Make them self-contained, so people do not have to research the historical context to make sense of them."}),"\n",(0,o.jsx)(n.li,{children:"And most importantly: use your brain :)"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"For better readability, we introduced conventions for PR naming and commit messages. This gives a first impression about the content of a commit and improves the commit history's readability. Please use the following identifiers:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Short"}),(0,o.jsx)(n.th,{children:"Meaning"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"FIX"}),(0,o.jsx)(n.td,{children:"bug fix"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"ENH"}),(0,o.jsx)(n.td,{children:"enhancement (new features, etc.)"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"MAINT"}),(0,o.jsx)(n.td,{children:"maintenance commit (refactoring, typos, style fixes, etc.)"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"DOC"}),(0,o.jsx)(n.td,{children:"documentation"})]})]})]}),"\n",(0,o.jsx)(n.p,{children:"The following examples show how such commit messages could look like:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"FIX: fix namespace error\nENH: add cHPI in Neuromag Plugin\nMAINT: improved GitHubAction workflow for Linux deployment\nDOC: add documentation for new amplifier in MNE Scan\n"})}),"\n",(0,o.jsx)(n.h2,{id:"mne-cpp-documentation-in-qtcreator",children:"MNE-CPP Documentation in QtCreator"}),"\n",(0,o.jsx)(n.p,{children:"You can integrate MNE-CPP's API documentation into QtCreator's Help mode (F1):"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Download the ",(0,o.jsx)(n.code,{children:"mne-cpp-doc-qtcreator.qch"})," file from the ",(0,o.jsx)(n.a,{href:"https://github.com/mne-tools/mne-cpp/releases",children:"MNE-CPP releases page"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["In QtCreator, go to ",(0,o.jsx)(n.strong,{children:"Tools \u2192 Options \u2192 Help \u2192 Documentation \u2192 Add"})," and select the ",(0,o.jsx)(n.code,{children:".qch"})," file."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},28453(e,n,t){t.d(n,{R:()=>r,x:()=>l});var i=t(96540);const o={},s=i.createContext(o);function r(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);