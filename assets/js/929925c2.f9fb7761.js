"use strict";(globalThis.webpackChunkmne_cpp_website=globalThis.webpackChunkmne_cpp_website||[]).push([[5380],{97513(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"development/buildguide-cmake","title":"Build from Source","description":"MNE-CPP uses CMake as its build system and requires C++20 and Qt 6. This guide walks through compiling MNE-CPP from source on Windows, Linux, and macOS.","source":"@site/docs/development/buildguide-cmake.mdx","sourceDirName":"development","slug":"/development/buildguide-cmake","permalink":"/docs/development/buildguide-cmake","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Build from Source","sidebar_label":"Build from Source"},"sidebar":"developmentSidebar","next":{"title":"WebAssembly","permalink":"/docs/development/wasm"}}');var l=i(74848),t=i(28453);const d={title:"Build from Source",sidebar_label:"Build from Source"},r="Build from Source",c={},o=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"CMake",id:"cmake",level:3},{value:"Compiler",id:"compiler",level:3},{value:"Qt 6",id:"qt-6",level:3},{value:"Get the Source Code",id:"get-the-source-code",level:2},{value:"Compile the Source Code",id:"compile-the-source-code",level:2},{value:"Via Command Line",id:"via-command-line",level:3},{value:"CMake Options",id:"cmake-options",level:4},{value:"Via Qt Creator",id:"via-qt-creator",level:3},{value:"Running Applications",id:"running-applications",level:3},{value:"Test the Build",id:"test-the-build",level:2},{value:"Deploy Qt Dependencies",id:"deploy-qt-dependencies",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"build-from-source",children:"Build from Source"})}),"\n",(0,l.jsxs)(n.p,{children:["MNE-CPP uses ",(0,l.jsx)(n.strong,{children:"CMake"})," as its build system and requires ",(0,l.jsx)(n.strong,{children:"C++20"})," and ",(0,l.jsx)(n.strong,{children:"Qt 6"}),". This guide walks through compiling MNE-CPP from source on Windows, Linux, and macOS."]}),"\n",(0,l.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,l.jsx)(n.h3,{id:"cmake",children:"CMake"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://cmake.org/download/",children:"CMake"})," ",(0,l.jsx)(n.strong,{children:"3.15 or higher"})," is required."]}),"\n",(0,l.jsx)(n.h3,{id:"compiler",children:"Compiler"}),"\n",(0,l.jsxs)(n.p,{children:["MNE-CPP requires a compiler with ",(0,l.jsx)(n.strong,{children:"C++20 support"}),". The following compilers are tested in CI:"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Windows"}),(0,l.jsx)(n.th,{children:"Linux"}),(0,l.jsx)(n.th,{children:"macOS"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.a,{href:"https://visualstudio.microsoft.com/vs/community/",children:"MSVC 2022"})," (Visual Studio 2022 Community or higher. During installation select the ",(0,l.jsx)(n.strong,{children:"Desktop development with C++"})," workload.)"]}),(0,l.jsx)(n.td,{children:"GCC 13+ (ships with Ubuntu 24.04)"}),(0,l.jsxs)(n.td,{children:["Apple Clang via ",(0,l.jsx)(n.a,{href:"https://developer.apple.com/xcode/",children:"Xcode"})," (ships with macOS)"]})]})})]}),"\n",(0,l.jsx)(n.h3,{id:"qt-6",children:"Qt 6"}),"\n",(0,l.jsxs)(n.p,{children:["Qt 6 is the only external dependency. ",(0,l.jsx)(n.strong,{children:"Qt 5 is no longer supported."})]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Download and run the ",(0,l.jsx)(n.a,{href:"https://www.qt.io/download-qt-installer",children:"Qt Online Installer"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Install ",(0,l.jsx)(n.strong,{children:"Qt 6.5 or higher"})," (CI currently tests with Qt 6.10.x) to a path without spaces. During installation, select:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The compiler target for your platform (e.g., ",(0,l.jsx)(n.code,{children:"MSVC 2022 64-bit"}),", ",(0,l.jsx)(n.code,{children:"Desktop gcc 64-bit"}),", or ",(0,l.jsx)(n.code,{children:"macOS"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Qt Shader Tools"})," (required)"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["After installation, add the Qt ",(0,l.jsx)(n.code,{children:"bin"})," folder to your ",(0,l.jsx)(n.code,{children:"PATH"}),":","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Windows:"})," e.g. ",(0,l.jsx)(n.code,{children:"C:\\Qt\\6.10.2\\msvc2022_64\\bin"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Linux:"})," e.g. ",(0,l.jsx)(n.code,{children:"$HOME/Qt/6.10.2/gcc_64/bin"})," \u2014 also add the ",(0,l.jsx)(n.code,{children:"lib"})," folder to ",(0,l.jsx)(n.code,{children:"LD_LIBRARY_PATH"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"macOS:"})," e.g. ",(0,l.jsx)(n.code,{children:"$HOME/Qt/6.10.2/macos/bin"})," \u2014 also add the ",(0,l.jsx)(n.code,{children:"lib"})," folder to ",(0,l.jsx)(n.code,{children:"DYLD_LIBRARY_PATH"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"get-the-source-code",children:"Get the Source Code"}),"\n",(0,l.jsxs)(n.p,{children:["Fork ",(0,l.jsx)(n.a,{href:"https://github.com/mne-tools/mne-cpp",children:"MNE-CPP's main repository"})," to your own GitHub account. For a detailed guide on how to fork a repository, see the ",(0,l.jsx)(n.a,{href:"https://help.github.com/en/github/getting-started-with-github/fork-a-repo",children:"GitHub documentation"}),"."]}),"\n",(0,l.jsx)(n.p,{children:"Clone the fork to your local machine:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/<YourGitUserName>/mne-cpp.git\n"})}),"\n",(0,l.jsx)(n.p,{children:"Set up a remote pointing to the upstream repository:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"git remote add upstream https://github.com/mne-tools/mne-cpp.git\n"})}),"\n",(0,l.jsx)(n.p,{children:"To update to the latest changes:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"git fetch --all\ngit rebase upstream/v2.0-dev\n"})}),"\n",(0,l.jsx)(n.h2,{id:"compile-the-source-code",children:"Compile the Source Code"}),"\n",(0,l.jsx)(n.h3,{id:"via-command-line",children:"Via Command Line"}),"\n",(0,l.jsxs)(n.p,{children:["Navigate to the ",(0,l.jsx)(n.code,{children:"mne-cpp"})," root folder. We provide a cross-platform build script that automatically detects your platform, finds Qt, configures CMake, and builds:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"./tools/build_project.bat\n"})}),"\n",(0,l.jsx)(n.p,{children:"Common options:"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Option"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"help"})}),(0,l.jsx)(n.td,{children:"Show all available options"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"all"})}),(0,l.jsx)(n.td,{children:"Build everything (apps, examples, and tests)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"static"})}),(0,l.jsx)(n.td,{children:"Build with static linking"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Debug"})}),(0,l.jsx)(n.td,{children:"Build in Debug mode (default is Release)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"clean"})}),(0,l.jsx)(n.td,{children:"Remove previous build before building"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"qt <path>"})}),(0,l.jsx)(n.td,{children:"Use a custom Qt installation path"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:"Example \u2014 build everything in Release mode:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"./tools/build_project.bat all\n"})}),"\n",(0,l.jsx)(n.p,{children:"Alternatively, you can invoke CMake directly:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cmake -B build -S . -DCMAKE_BUILD_TYPE=Release\ncmake --build build --parallel $(nproc)\n"})}),"\n",(0,l.jsxs)(n.p,{children:["On ",(0,l.jsx)(n.strong,{children:"Windows"})," with MSVC, first activate the compiler environment, then build:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-powershell",children:'# Open a Developer Command Prompt for VS 2022, or run:\ncmd.exe /c "call ""C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\VC\\Auxiliary\\Build\\vcvars64.bat"" && set > %temp%\\vcvars.txt"\n\ncmake -B build -S . -DCMAKE_BUILD_TYPE=Release\ncmake --build build --config Release --parallel %NUMBER_OF_PROCESSORS%\n'})}),"\n",(0,l.jsx)(n.h4,{id:"cmake-options",children:"CMake Options"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Option"}),(0,l.jsx)(n.th,{children:"Default"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"BUILD_SHARED_LIBS"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ON"})}),(0,l.jsx)(n.td,{children:"Build shared (dynamic) libraries"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"BUILD_APPLICATIONS"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ON"})}),(0,l.jsx)(n.td,{children:"Build GUI applications"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"BUILD_EXAMPLES"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ON"})}),(0,l.jsx)(n.td,{children:"Build example programs"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"BUILD_TESTS"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"OFF"})}),(0,l.jsx)(n.td,{children:"Build unit tests"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"BUILD_ALL"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"OFF"})}),(0,l.jsx)(n.td,{children:"Enable apps, examples, and tests"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"WASM"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"OFF"})}),(0,l.jsxs)(n.td,{children:["Configure for WebAssembly (see ",(0,l.jsx)(n.a,{href:"/docs/development/wasm",children:"WebAssembly"}),")"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"NO_OPENGL"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"OFF"})}),(0,l.jsx)(n.td,{children:"Disable QOpenGLWidget support"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"via-qt-creator",children:"Via Qt Creator"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Open Qt Creator and select ",(0,l.jsx)(n.strong,{children:"File > Open File or Project"}),". Navigate to the ",(0,l.jsx)(n.code,{children:"mne-cpp"})," root folder and select the top-level ",(0,l.jsx)(n.code,{children:"CMakeLists.txt"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["When prompted, select a kit with your Qt 6 installation \u2014 e.g. ",(0,l.jsx)(n.code,{children:"Desktop Qt 6.10.2 MSVC2022 64bit"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Select ",(0,l.jsx)(n.strong,{children:"Release"})," mode in the lower-left corner."]}),"\n",(0,l.jsxs)(n.li,{children:["In the Projects pane, right-click the top-level ",(0,l.jsx)(n.code,{children:"mne_cpp"})," target and select ",(0,l.jsx)(n.strong,{children:"Run CMake"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Right-click again and select ",(0,l.jsx)(n.strong,{children:"Build"})," (this may take some time)."]}),"\n",(0,l.jsxs)(n.li,{children:["Once complete, built binaries are located in ",(0,l.jsx)(n.code,{children:"mne-cpp/out/Release"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"running-applications",children:"Running Applications"}),"\n",(0,l.jsxs)(n.p,{children:["From ",(0,l.jsx)(n.strong,{children:"Qt Creator"}),", use the Run button in the lower-left toolbar. From the ",(0,l.jsx)(n.strong,{children:"command line"}),", navigate to ",(0,l.jsx)(n.code,{children:"out/Release/apps"})," and run the desired application, e.g.:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"./mne_scan\n"})}),"\n",(0,l.jsx)(n.h2,{id:"test-the-build",children:"Test the Build"}),"\n",(0,l.jsxs)(n.p,{children:["To verify your build, download the ",(0,l.jsx)(n.a,{href:"https://osf.io/86qa2/download",children:"MNE-Sample-Data-Set"})," and extract it to ",(0,l.jsx)(n.code,{children:"mne-cpp/out/Release/resources/MNE-sample-data"}),". Then run one of the examples, e.g. ",(0,l.jsx)(n.code,{children:"ex_disp_3D"}),". If the build is correct, a window with a 3D brain visualization and source localization result will appear."]}),"\n",(0,l.jsx)(n.p,{children:"To build and run the unit tests:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"./tools/build_project.bat all\ncd build/Release\nctest --output-on-failure\n"})}),"\n",(0,l.jsx)(n.h2,{id:"deploy-qt-dependencies",children:"Deploy Qt Dependencies"}),"\n",(0,l.jsx)(n.p,{children:"To run compiled applications outside of Qt Creator (e.g. from the terminal or file manager), Qt runtime libraries must be bundled. MNE-CPP provides a cross-platform deployment script:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"./tools/deploy.bat dynamic pack    # dynamic linking (recommended for development)\n./tools/deploy.bat static pack     # static linking\n"})}),"\n",(0,l.jsxs)(n.p,{children:["The dynamically linked version is recommended for development. For more details, see the ",(0,l.jsx)(n.a,{href:"/docs/development/ci-deployment",children:"Deployment"})," page."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},28453(e,n,i){i.d(n,{R:()=>d,x:()=>r});var s=i(96540);const l={},t=s.createContext(l);function d(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);